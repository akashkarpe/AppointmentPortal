
@{
    ViewBag.Title = "MyAppointments";
}

@using AppointmentWebPortal.Models;

<h2>Upcomming Appointments</h2>

<table class="table table-bordered table-striped" style="width:40%;">

    <tr>
        <td>Total Booked Upcomming Appoitments</td>
        <td>@ViewBag.UpcommingAppointmets</td>
    </tr>
</table>
<h3>Upcomming Booked Appointments</h3>
<table class="table table-bordered table-striped">
    <tr>
        <th>Date</th>
        <th>Time</th>
        <td>IsBooked</td>
        <th>Status</th>
        <th>Patient Name</th>
        <th>Patient Email</th>
        <th>Patient PhoneNo</th>
    </tr>
    @if (ViewBag.MySlots != null)
    {
        foreach (AppointmentSlotData item in ViewBag.MySlots)
        {
            <tr>
                <td>@item.AppointmentDate</td>
                <td>@item.FromTime-@item.ToTime</td>
                <td>@item.IsBooked</td>
                <td>
                    @if (@item.Status == 0)
                    {
                        <p>Open</p>
                    }
                    else if (@item.Status == 1)
                    {
                        <p>Booked</p>
                    }
                    else if (@item.Status == 2)
                    {
                        <p>Accepted</p>
                    }
                    else if (@item.Status == 3)
                    {
                        <p>Rejected</p>
                    }
                </td>
                <td>@item.PatientName</td>
                <td>@item.PatientEmail</td>
                <td>@item.PatientPhoneNo</td>
            </tr>
        }
    }
</table>

